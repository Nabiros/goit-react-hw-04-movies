{"version":3,"sources":["components/MoviesPage/MoviesPage.js","components/MoviesPage/MoviesPage.module.css"],"names":["Cast","lazy","Reviews","MoviesPage","movie","history","useHistory","location","useLocation","slug","useParams","useRouteMatch","url","path","movieId","match","checkLocation","state","from","type","onClick","push","className","styled","button","label","div","movie_card","img","src","poster_path","alt","title","movie_info","h2","p","release_date","li","genres","map","genre","name","id","overview","links","link","to","pathname","fallback","module","exports"],"mappings":"0IAAA,yGAYMA,EAAOC,gBAAK,kBAChB,iCAEIC,EAAUD,gBAAK,kBACnB,kCAGa,SAASE,EAAT,GAAgC,IAAD,MAATC,EAAS,EAATA,MAC7BC,EAAUC,cACVC,EAAWC,cACTC,EAASC,cAATD,KACR,EAAsBE,cAAdC,EAAR,EAAQA,IAAKC,EAAb,EAAaA,KAEPC,EAAUL,EAAKM,MAAM,cAAc,GAMnCC,EAAgB,WACpB,IAAQC,EAAUV,EAAVU,MACR,OAAY,OAALA,QAAK,IAALA,OAAA,EAAAA,EAAOC,MAAOD,EAAMC,KAAO,IAGpC,OACE,gCACE,wBAAQC,KAAK,SAASC,QAXT,WAAO,IAAD,MACrBf,EAAQgB,KAAR,iBAAad,QAAb,IAAaA,GAAb,UAAaA,EAAUU,aAAvB,iBAAa,EAAiBC,YAA9B,aAAa,EAAuBX,gBAApC,QAAgD,MAULe,UAAWC,IAAOC,OAA3D,0BACGjB,QADH,IACGA,GADH,UACGA,EAAUU,aADb,iBACG,EAAiBC,YADpB,aACG,EAAuBO,aAD1B,QACmC,yBAGnC,qBAAKH,UAAWC,IAAOG,IAAvB,SACE,sBAAKJ,UAAWC,IAAOI,WAAvB,UACE,qBACEL,UAAWC,IAAOK,IAClBC,IAAG,0CAAqCzB,EAAM0B,aAC9CC,IAAK3B,EAAM4B,QAGb,sBAAKV,UAAWC,IAAOU,WAAvB,UACE,oBAAIX,UAAWC,IAAOW,GAAtB,SAA2B9B,EAAM4B,QACjC,oBAAGV,UAAWC,IAAOY,EAArB,cAA0B/B,EAAMgC,gBAChC,oBAAId,UAAWC,IAAOc,GAAtB,SACGjC,EAAMkC,OAAOC,KAAI,SAACC,GAAD,OAChB,6BAAoBA,EAAMC,MAAjBD,EAAME,SAInB,mBAAGpB,UAAWC,IAAOY,EAArB,SAAyB/B,EAAMuC,WAE/B,sBAAKrB,UAAWC,IAAOqB,MAAvB,UACE,cAAC,IAAD,CACEtB,UAAWC,IAAOsB,KAClBC,GAAI,CACFC,SAAS,GAAD,OAAKnC,EAAL,SACRK,MAAO,CAAEC,KAAMF,MAJnB,kBASA,cAAC,IAAD,CACEM,UAAWC,IAAOsB,KAClBC,GAAI,CACFC,SAAS,GAAD,OAAKnC,EAAL,YACRK,MAAO,CAAEC,KAAMF,MAJnB,gCAaR,eAAC,WAAD,CAAUgC,SAAU,cAAC,IAAD,IAApB,UACE,cAAC,IAAD,CAAOnC,KAAI,UAAKA,EAAL,SAAX,SACE,cAACb,EAAD,CAAMc,QAASA,MAGjB,cAAC,IAAD,CAAOD,KAAI,UAAKA,EAAL,YAAX,SACE,cAACX,EAAD,CAASY,QAASA,c,oBCzF5BmC,EAAOC,QAAU,CAAC,IAAM,wBAAwB,WAAa,+BAA+B,WAAa,+BAA+B,OAAS,2BAA2B,GAAK,uBAAuB,GAAK,uBAAuB,IAAM,wBAAwB,GAAK,uBAAuB,EAAI,sBAAsB,MAAQ,0BAA0B,KAAO,yBAAyB,OAAS","file":"static/js/MoviePage.3ebe64ef.chunk.js","sourcesContent":["import { lazy, Suspense } from \"react\";\nimport {\n  NavLink,\n  useRouteMatch,\n  Route,\n  useParams,\n  useLocation,\n  useHistory,\n} from \"react-router-dom\";\nimport styled from \"./MoviesPage.module.css\";\nimport Spinner from \"../Spinner/Spinner\";\n\nconst Cast = lazy(() =>\n  import(\"../../Views/Cast\" /* webpackChunkName: \"cast\" */)\n);\nconst Reviews = lazy(() =>\n  import(\"../../Views/Reviews\" /* webpackChunkName: \"reviews\" */)\n);\n\nexport default function MoviesPage({ movie }) {\n  const history = useHistory();\n  const location = useLocation();\n  const { slug } = useParams();\n  const { url, path } = useRouteMatch();\n\n  const movieId = slug.match(/[a-z0-9]+$/)[0];\n\n  const onGoBack = () => {\n    history.push(location?.state?.from?.location ?? \"/\");\n  };\n\n  const checkLocation = () => {\n    const { state } = location;\n    return state?.from ? state.from : \"\";\n  };\n\n  return (\n    <div>\n      <button type=\"button\" onClick={onGoBack} className={styled.button}>\n        {location?.state?.from?.label ?? \"Go back to main page\"}\n      </button>\n\n      <div className={styled.div}>\n        <div className={styled.movie_card}>\n          <img\n            className={styled.img}\n            src={`https://image.tmdb.org/t/p/w500/${movie.poster_path}`}\n            alt={movie.title}\n          />\n\n          <div className={styled.movie_info}>\n            <h2 className={styled.h2}>{movie.title}</h2>\n            <p className={styled.p}> {movie.release_date}</p>\n            <ul className={styled.li}>\n              {movie.genres.map((genre) => (\n                <li key={genre.id}>{genre.name}</li>\n              ))}\n            </ul>\n\n            <p className={styled.p}>{movie.overview}</p>\n\n            <div className={styled.links}>\n              <NavLink\n                className={styled.link}\n                to={{\n                  pathname: `${url}/cast`,\n                  state: { from: checkLocation() },\n                }}\n              >\n                Cast\n              </NavLink>\n              <NavLink\n                className={styled.link}\n                to={{\n                  pathname: `${url}/reviews`,\n                  state: { from: checkLocation() },\n                }}\n              >\n                Reviews\n              </NavLink>\n            </div>\n          </div>\n        </div>\n      </div>\n      <Suspense fallback={<Spinner />}>\n        <Route path={`${path}/cast`}>\n          <Cast movieId={movieId} />\n        </Route>\n\n        <Route path={`${path}/reviews`}>\n          <Reviews movieId={movieId} />\n        </Route>\n      </Suspense>\n    </div>\n  );\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"div\":\"MoviesPage_div__32hW4\",\"movie_card\":\"MoviesPage_movie_card__3BwFq\",\"movie_info\":\"MoviesPage_movie_info__3y3cp\",\"button\":\"MoviesPage_button__slhVt\",\"h2\":\"MoviesPage_h2__1P03b\",\"h3\":\"MoviesPage_h3__1Eks4\",\"img\":\"MoviesPage_img__3itQl\",\"li\":\"MoviesPage_li__jGliK\",\"p\":\"MoviesPage_p__37X5G\",\"links\":\"MoviesPage_links__2XFnD\",\"link\":\"MoviesPage_link__3Si7G\",\"loader\":\"MoviesPage_loader__2_kQp\"};"],"sourceRoot":""}