(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[6],{127:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var a=n(113),c=n(123),r=n(55),o=n(130),i=n(0),u=n(53),s=n(2),l=n(7),b=n(61),m=n.n(b),d=n(77),f=n(62),h=n.n(f),j=n(3),_=Object(i.lazy)((function(){return n.e(7).then(n.bind(null,115))}));function p(){var e,t=Object(s.i)().url,n=Object(s.f)(),b=Object(s.g)(),f=Object(i.useState)([]),p=Object(r.a)(f,2),g=p[0],v=p[1],O=Object(i.useState)(1),x=Object(r.a)(O,2),w=x[0],P=x[1],y=Object(i.useState)(""),H=Object(r.a)(y,2),k=H[0],N=H[1],S=null!==(e=new URLSearchParams(b.search).get("query"))&&void 0!==e?e:"";Object(i.useEffect)((function(){S&&u.d(S,w).then((function(e){return 0===e.results.length?d.b.error("Sorry there are no movies with ".concat(k," name"),v([])):e.results?v((function(t){return[].concat(Object(c.a)(t),Object(c.a)(e.results))})):void 0}))}),[S,w,k]);var q=g.length>=20;return Object(j.jsxs)("div",{className:h.a.div,children:[Object(j.jsx)(_,{onSubmit:function(e){v([]),N(e),P(1),n.push(Object(a.a)(Object(a.a)({},b),{},{search:"query=".concat(e)}))}}),g&&Object(j.jsxs)(o.a,{textAlign:"center",children:[Object(j.jsx)("ul",{className:h.a.ul,children:g.map((function(e){return Object(j.jsx)("li",{className:h.a.li,children:Object(j.jsxs)(l.b,{className:h.a.link,to:{pathname:"".concat(t,"/").concat((n="".concat(e.title," ").concat(e.id),m()(n,{lower:!0}))),state:{from:{location:b,label:"Back to search movies",search:"?query=".concat(k)}}},children:[Object(j.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(e.poster_path),alt:e.title,className:h.a.img}),Object(j.jsx)("p",{className:h.a.p,children:e.title})]})},e.id);var n}))}),q&&Object(j.jsx)("button",{onClick:function(){P((function(e){return e+1}))},className:h.a.button,children:"Load more"})]}),Object(j.jsx)(d.a,{})]})}},53:function(e,t,n){"use strict";n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return b})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return f}));var a=n(57),c=n.n(a),r=n(58),o=n(59),i=n.n(o);function u(){return s.apply(this,arguments)}function s(){return s=Object(r.a)(c.a.mark((function e(){var t,n,a,r=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=4,i.a.get(t,n);case 4:return a=e.sent,e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}function l(){return u("trending/movie/day?")}function b(e,t){return u("search/movie?&query=".concat(e,"&page=").concat(t))}function m(e){return u("movie/".concat(e))}function d(e){return u("movie/".concat(e,"/credits"))}function f(e){return u("movie/".concat(e,"/reviews"))}i.a.defaults.baseURL="https://api.themoviedb.org/3/",i.a.defaults.params={api_key:"98821d28938ee5f201a6b9b7afe95fef"}},62:function(e,t,n){e.exports={div:"HomePage_div__2g-Cu",a:"HomePage_a__2UTqM",h1:"HomePage_h1__1xCte",ul:"HomePage_ul__1t0Px",li:"HomePage_li__3RQGn",img:"HomePage_img__aTo2w",p:"HomePage_p__3iEWT",link:"HomePage_link__2b6sM",button:"HomePage_button__VpscM",loader:"HomePage_loader__16JlK"}}}]);
//# sourceMappingURL=SearchBar.87c22f78.chunk.js.map